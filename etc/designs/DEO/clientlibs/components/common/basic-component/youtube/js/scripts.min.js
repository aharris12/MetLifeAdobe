function onPlayerStateChange(){}function onPlayerReady(e){console.log(e),console.log(player.getDuration)}var youtube={},tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var player={playVideo:function(e,t,o){"undefined"==typeof YT||"undefined"==typeof YT.Player?window.onYouTubePlayerAPIReady=function(){player.loadPlayer(e,t,o),$.getScript("//www.youtube.com/player_api")}:player.loadPlayer(e,t,o)},loadPlayer:function(e,t,o){youtube["player"+o]=new YT.Player(e,{playerVars:{modestbranding:1,rel:0},videoId:t,events:{onReady:function(e){var t=youtube["player"+o].getDuration(),a=t/60>=1?parseInt(t/60):null,i=t/60/60>=1?t/60/60:null,n=t/60>=1?t-parseInt(60*a):t,u=$("#youtube-idx-"+o).find(".youtube-playtime"),d="";d+="시간 : ",null!=i&&(d+=i+"시간 "),null!=a&&(d+=a+"분 "),d+=n+"초 ",u.text(d)}}})}},youtubeControl={playVideo:function(e,t){var o=$(this),a=o.closest("div"),i=a.siblings(".youtube-video"),n=i.find(".youtube-sumnail"),u=void 0==t?a.data("playIdx"):t;i.data("sumnail")&&n.css("display","none"),youtube["player"+u].playVideo()},stopVideo:function(e,t){var o=$(this),a=o.closest("div"),i=a.siblings(".youtube-video"),n=i.find(".youtube-sumnail"),u=void 0==t?a.data("playIdx"):t;i.data("sumnail")&&n.css("display","block"),youtube["player"+u].seekTo(0,!0),youtube["player"+u].stopVideo()},pauseVideo:function(e,t){var o=$(this),a=void 0==t?o.closest("div").data("playIdx"):t;youtube["player"+a].pauseVideo()}};!function(e){function t(){function t(e){i()}function o(){c.on("click",youtubeControl.playVideo),p.on("click",youtubeControl.stopVideo),f.on("click",youtubeControl.pauseVideo)}function a(){v.on("resize",t)}function i(){var t=s.find("iframe").attr("id");t=t.replace("player","");var o=e("#player"+t).height();b.css({height:o}),b.find("img").css({marginTop:-b.find("img").height()/2})}function n(t){s.find(".youtube-control").length&&o(),s.each(function(t){var o=e(this);o.attr("id","youtube-idx-"+t),l=o.find(".youtube-video"),r=o.find(".youtube-player"),y=o.find(".youtube-control"),r.attr("id","player"+t),y.data({playIdx:t,sumnail:l.data("sumnail")}),player.playVideo(r.attr("id"),l.data("videoId"),t),l.data("sumnail")}),e(window).on("load",i),t()}function u(){var t=s.find("iframe");t.each(function(){var t=e(this);t.attr("title",t.closest("div").data("videoTitle")+" Youtube 영상보기")})}function d(){n(u)}var l,r,y,s=e(".youtube-container"),c=s.find(".youtube-play"),p=s.find(".youtube-stop"),f=s.find(".youtube-pause"),b=s.find(".youtube-sumnail"),v=e(window);window.onYouTubePlayerAPIReady=function(){d(),a()}}e(document).on("ready",t)}(jQuery);