!function(e){function s(){function s(){function s(s){var n=e(s.target),i=n.parent();i.hasClass("header-search-input")||i.hasClass("input-wrap")||i.hasClass("allmenu-btn-open")||i.hasClass("allmenu-btn-close")||n.hasClass("header-search-inputbox")||n.hasClass("header-search-open")||i.hasClass("header-search-open")||n.hasClass("header-search-submit")||t.closeEffect()}function n(){T.on("keydown",i.openBtn),D.on("keydown",i.submitBtn),V.on("keydown",i.inputBack),e("body").on("touchend",".wrapper",t.closeEffect)}var t=this;this.openEffect=function(){V.val(""),T.addClass("active"),I.addClass("active"),b.addClass("sch-active"),e(document).on("click",s)},this.closeEffect=function(){T.removeClass("active"),I.removeClass("active"),b.removeClass("sch-active"),I.find("input").val(""),I.find("label").removeClass("screen_out"),e(document).off("click",s)},this.resizeSet=function(){function e(){s(),n()}function s(){I.removeAttr("style"),b.off("webkitTransitionEnd oTransitionEnd transitionend msTransitionEnd",e)}function n(){}z=window[sitename].VARS.IS_VIEWTYPE,k.hasClass("active")&&"mobile"==z&&b.hasClass("sch-active")&&(T.removeClass("active"),I.removeClass("active")),f!=z&&("mobile"==f&&b.hasClass("sch-active")&&(y.hasClass("ie9")||(I.css({"transition-duration":"0s"}),b.on("webkitTransitionEnd oTransitionEnd transitionend msTransitionEnd",e))),k.hasClass("active")&&"mobile"!=z&&(b.addClass("sch-active"),T.addClass("active"),I.addClass("active")),k.hasClass("active")&&"mobile"==z,f=z)};var i={openBtn:function(e){e.shiftKey&&9==e.keyCode||9==e.keyCode&&(e.preventDefault(),t.openEffect(),window[sitename].MDOBJ.DELAY_FUNC(function(){V.focus()},100),k.hasClass("active")&&"mobile"==z&&m.menuClose()),13==e.keyCode&&(e.preventDefault(),t.openEffect(),window[sitename].MDOBJ.DELAY_FUNC(function(){V.focus()},100),k.hasClass("active")&&"mobile"==z&&m.menuClose())},submitBtn:function(e){e.shiftKey&&9==e.keyCode||9==e.keyCode&&t.closeEffect()},inputBack:function(e){e.shiftKey&&9==e.keyCode?t.closeEffect():9==e.keyCode}};this.init=function(){n()}}function n(){function s(e){h=parseInt(document.body.scrollHeight-(document.body.scrollHeight-window.innerHeight))}function n(e){e.css({display:"block",height:"0"});var s=e.find("ul").height();TweenMax.to(e,.5,{height:s,ease:Expo.easeOut})}function t(e,s){s.removeAttr("style"),e.removeClass("active")}function i(e){var s=e.next();TweenMax.killTweensOf(s),TweenMax.to(s,.5,{height:0,ease:Expo.easeOut,onComplete:t,onCompleteParams:[e,s]})}function o(s,t){"focus"!=s.type&&"mobile"!=window[sitename].VARS.IS_VIEWTYPE&&s.preventDefault();var o="keydown"!=s.type?e(this):t,a=o.next();o.hasClass("active")?i(o):(o.addClass("active"),x.each(function(){var s=e(this);s.hasClass("active")&&i(s)}),n(a)),l=o}function a(s){if("mobile"==window[sitename].VARS.IS_VIEWTYPE){var n=e(this),t=s.keyCode||s.which;9==t&&(s.shiftKey||o(s,n))}}function c(){"mobile"==z?(x.off("click",o),x.on("click",o),x.off("keydown",a),x.on("keydown",a)):x.off("click",o)}var l;this.menuOpen=function(){h=parseInt(document.body.scrollHeight-(document.body.scrollHeight-window.innerHeight)),"mobile"==z&&(E.css({left:-w.width(),height:h-b.height()}),TweenMax.to(E,.5,{left:0,ease:Expo.easeOut,onComplete:s}),w.css("overflow","hidden")),"mobile"!=z&&S.css("display","none"),k.addClass("active"),A.css("display","block"),g.css("display","none")},this.menuClose=function(){"mobile"==z&&(E.removeAttr("style"),w.removeAttr("style")),"mobile"!=z&&S.css("display","block"),g.css("display","block"),A.css("display","none"),k.removeClass("active")},this.resizeSet=function(){c(),H.removeAttr("style"),x.removeClass("active"),"mobile"==z?S.css("display","block"):k.hasClass("active")?S.css("display","none"):S.css("display","block")},this.init=function(){c()}}function t(){z=window[sitename].VARS.IS_VIEWTYPE,k.hasClass("active")?(h=parseInt(document.body.scrollHeight-(document.body.scrollHeight-window.innerHeight)),"mobile"==z?(w.css("overflow","hidden"),window[sitename].MDOBJ.DELAY_FUNC(function(){E.css("height",h-b.height())},300)):E.removeAttr("style")):(w.removeAttr("style"),E.removeAttr("style")),z!=f&&(u.resizeSet(),m.resizeSet(),f=z)}function i(){var s=e(this);s.hasClass("active")?u.closeEffect():(u.openEffect(),m.menuClose())}function o(){w.removeClass("minisize"),w.css("overflow","hidden"),m.menuOpen(),A.focus(),k.hasClass("active")&&(e(document).off("click"),"mobile"==z||I.hasClass("active")||(u.openEffect(),e(document).off("click"))),"mobile"==z&&u.closeEffect()}function a(){k.hasClass("active")&&(0!=p.scrollTop()?w.addClass("minisize"):w.removeClass("minisize"),m.menuClose(),g.focus(),"mobile"!=z&&(w.removeAttr("style"),u.closeEffect()))}function c(){if(0!=p.scrollTop()){if(k.hasClass("active"))return;w.addClass("minisize")}else w.removeClass("minisize")}function l(){var s=e(".main-cat-submenu"),n=s.length;n>0&&s.trigger("mouseleave")}function r(){b.on("mouseover",l),T.on("click",i),g.on("click",o),A.on("click",a),g.on({keydown:function(s){if(s.target==this){var n=s.keyCode||s.which;9==n&&(s.shiftKey||(o(),s.preventDefault(),e(v).focus()))}}}),e(v).on({keydown:function(e){if(e.target==this){var s=e.keyCode||e.which;9==s&&e.shiftKey&&(a(),e.preventDefault(),g.focus())}}}),e(C).on({keydown:function(e){var s=e.keyCode||e.which;9==s&&(e.shiftKey||a())}}),p.on("resize",t),p.on("scroll",c)}function d(){z=window[sitename].VARS.IS_VIEWTYPE,h=parseInt(document.body.scrollHeight-(document.body.scrollHeight-window.innerHeight)),r()}var h,f,u,m,v,C,p=e(window),y=e("html"),w=e("body"),b=e(".header-container"),k=(e(".header-utils"),e(".allmenu-container")),E=e(".allmenu-wrap"),g=e(".allmenu-btn-open"),A=e(".allmenu-btn-close"),T=e(".header-search-open"),I=e(".header-search-wrap"),S=e(".header-aside"),x=e(".dep1lnk"),H=e(".submenu"),V=I.find("input"),D=I.find(".header-search-submit"),z=window[sitename].VARS.IS_VIEWTYPE,B=[];E.find("*").each(function(e,s){s.tagName.match(/^A$|AREA|INPUT|TEXTAREA|SELECT|BUTTON/gim)&&-1!==parseInt(s.getAttribute("tabIndex"))&&B.push(s),null!==s.getAttribute("tabIndex")&&parseInt(s.getAttribute("tabIndex"))>=0&&32768!==s.getAttribute("tabIndex",2)&&B.push(s)}),v=B[0],C=B[B.length-1],u=new s,u.init(),m=new n,m.init(),d(),c()}e(document).on("ready",s)}(jQuery);