!function(i){function n(n){function t(){function n(n){var e=void 0!=n?n:b.innerDiv.index(i(this).closest("div")),t=g.find("[data-lifestage-id="+parseInt(e)+"]");C.removeClass("active").css("display","none"),t.css("display","table").addClass("active"),C.find("a").attr("tabindex","-1"),t.find("a").attr("tabindex","0")}function t(e){var t=i(this);if(!t.hasClass("active")){var a=b.innerDiv.index(t.closest("div"));b.li.find("a").removeClass("active"),t.addClass("active"),t.focus(),n(a)}}function o(i){var e=[y,p];D.resizeSet(i,e),a!=window[sitename].VARS.IS_VIEWTYPE&&n(0)}function c(i){"next"==D["var"].direct&&(b.ul.append(i),b.li=b.ul.find("li"),i.css("marginLeft",0)),D["var"].isFlag=!1;var e=b.ul.find("li:first-child").data("slideId"),t=b.ul.find("[data-slide-id="+e+"]>div:first-child"),a=b.ul.find("[data-slide-id="+e+"]>div:first-child>a:first-child");b.li.find("a").removeClass("active"),a.addClass("active"),n(b.innerDiv.index(t))}function v(i){D.nextFn(i,c,b)}function u(i){D.prevFn(i,c,b)}function w(){C.find("a").attr("tabindex","-1")}function h(){var n=i(this),e=C.index(n.parents(".life-stages-content"));C.eq(e).find("a").attr("tabindex","0")}function y(){b.li.find("a").off("focus"),b.li.find("a").off("focus",t),b.li.find("a").on("focus",t),b.li.find("a").off("click",t),b.li.find("a").on("click",t),b.li.find("a").off("focusout",w),b.li.find("a").on("focusout",w)}function p(){b.prevbtn.off("keydown",E.prevbtnKeydown),b.prevbtn.on("keydown",E.prevbtnKeydown),b.nextbtn.off("keydown",E.nextbtnKeydown),b.nextbtn.on("keydown",E.nextbtnKeydown),b.li.find("a").off("keydown",E.listKeydown),b.li.find("a").on("keydown",E.listKeydown),C.find("a:last-child").off("keydown",E.conlinkKeydown),C.find("a:last-child").on("keydown",E.conlinkKeydown),C.find("a").off("focus",h),C.find("a").on("focus",h),C.find("a").off("focusout",w),C.find("a").on("focusout",w),C.find("a").attr("tabindex","-1")}function m(){y(),b.nextbtn.off("click"),b.nextbtn.on("click",v),b.prevbtn.off("click"),b.prevbtn.on("click",u),p();var i=e.makeSwipeEvt(v,u);b.ul.swipe(i),f.on("resize",o)}function x(){m()}function k(){D.init(!0),D.setVars(),D.setDesigin(),D.kwcagBtnRemoveEvent(),D.kwcagLiRemoveEvent(),D.addEvent(),b.li.find("a").removeAttr("tabindex"),x(),d=window[sitename].VARS.IS_VIEWTYPE,a=d}var D=new window[sitename].APPS.SLIDE.SLIDEEFFECT.basic(l,r),b=l,g=s.find(".life-stages-container"),C=s.find(".life-stages-content"),E={prevbtnKeydown:function(i){var n=i.keyCode||i.which;if(9==n&&!i.shiftKey){var t=[y,p];e.domMakeAppend(b,D.domArr,D["var"].nowInnerLen,D.setVars,t),D.setDesigin(),b.li.find("a").removeAttr("tabindex"),i.preventDefault(),b.ul.find("li:first-child>div:first-child>a:first-child").focus()}},nextbtnKeydown:function(n){var e=n.keyCode||n.which;if(9==e){i(this);if(n.shiftKey){n.preventDefault(),y(),p();var t=b.innerDiv.length,a=b.innerDiv.eq(t-1).find("a");b.li.find("a").removeClass("active"),a.addClass("active"),a.focus()}else;}},listKeydown:function(e){var t=i(this),a=e.keyCode||e.which;if(9==a){var d=b.innerDiv.index(t.closest("div"));e.shiftKey?0!=d&&(e.preventDefault(),n(d-1),b.innerDiv.eq(d-1).find("a:last-child").focus()):(e.preventDefault(),n(d),b.el.find("[data-lifestage-id="+d+"] a:first-child").focus())}},conlinkKeydown:function(e){var t=i(this),a=e.keyCode||e.which;if(9==a&&!e.shiftKey){var d=C.index(t.parents(".life-stages-content")),f=b.innerDiv.length;if(f-1==d)return;e.preventDefault();var s=b.innerDiv.eq(d+1).find("a");b.li.find("a").removeClass("active"),s.addClass("active"),n(d+1),"web"!=window[sitename].VARS.IS_VIEWTYPE&&("1"==r.viewLen[r.modeidx]?v(e):r.viewLen[r.modeidx]-1==d&&v(e)),b.ul.find("li[data-slide-id="+d+"1] a:first-child").addClass("active"),s.focus()}}};k(),D.setDesigin()}var a,d,f=i(window),s=n,o=s.find(".ui-slide")||i(".ui-slide"),l=e.slideDomElementMapping(o),c=e.getDataRetrun(l.el.data("slideType")),r={slideType:c[0],viewLen:e.getDataRetrun(l.el.data("slideViewlen")),modeidx:e.getDeviceArrIdx(window[sitename].VARS.IS_VIEWTYPE)};o.imagesLoaded(t)}var e=window[sitename].APPS.SLIDE.UTIL,t=i(".life-stages");window[sitename].MDOBJ.COMPCALL(t,n)}(jQuery);